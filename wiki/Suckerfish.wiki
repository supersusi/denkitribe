Suckerfish の解説ページ

= 概要 =

Arduino を使用したミニマムな仕様の MIDI シーケンサーです。

http://farm4.static.flickr.com/3567/3765703439_8c36754725.jpg

[http://vimeo.com/5812001 演奏デモビデオ]

= 機能 =

Suckerfish は，いわゆる「パターンシーケンサー」とでも言うべきもので，内蔵している１６個のパターンを選択して再生することができます。パターンの切り替えはトグルスイッチによって行います。４つのトグルスイッチをつかって２進数的にパターン番号を指定するわけです。ちなみに，個人的な好みから左側が LSB になっています。

ボタンで再生開始，もう一回押すと再生終了。ボタンを押したタイミングで MIDI システムリアルタイムメッセージのスタート (0xFA) とストップ (0xFC) が送信されます。パターンの切り替えはパターンが一周したタイミングで適用されます。

パターンの再生速度 (BPM) に合わせてタイミングクロック (0xF8) を送信します。 BPM はあまり正確ではありません。従って，このデバイスを仕様する場合は，このデバイスを同期のマスターにする必要があります。

= パターンの作成 =

パターンデータはソースコード内に埋め込まれる形になっています。 [http://code.google.com/p/denkitribe/source/browse/trunk/Arduino/Suckerfish/Sequence.h Sequence.h] がそれです。このファイルは [http://code.google.com/p/denkitribe/source/browse/trunk/Arduino/Suckerfish/Converter Converter] ディレクトリ内にある Converter.py （Python スクリプト）によって自動生成されます。

Converter.py は，カレントディレクトリ内にある拡張子 .mid のファイルをスキャンし，統合したうえで Sequence.h に出力するスクリプトです。中身はかなり手抜きの実装になっており，基本的に Ableton Live によって出力された .mid ファイルにしか対応していません。

Ableton Live から .mid ファイルの出力を行うには，クリップを選択したのちに右クリックメニューから "Export MIDI Clip" を選択します。

http://farm3.static.flickr.com/2541/3797040920_d344001154_o.jpg

= 回路図 =

http://farm4.static.flickr.com/3557/3794990037_ee602edbc8.jpg

ユニバーサル基板上での配線例は以下のようになります。

http://farm3.static.flickr.com/2469/3794989977_b9261deeb4.jpg

完成品の写真です。

http://farm3.static.flickr.com/2589/3795822340_52f81da66b.jpg

上から見るとこうなっています。

http://farm3.static.flickr.com/2663/3795001487_a8f2ae112e.jpg

= ソースコード =

ソースリポジトリの {{{svntrunk/Arduino/Suckerfish/Suckerfish.pde}}} 以下にあります。ウェブインターフェースからちょっと覗いてみるには[http://code.google.com/p/denkitribe/source/browse/#svn/trunk/Arduino/Suckerfish こちらから]どうぞ。